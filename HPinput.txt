namespaceLoliTrainer{partialclassAboutBox1{///<summary>///Requireddesignervariable.///</summary>privateSystem.ComponentModel.IContainercomponents=null;///<summary>///Cleanupanyresourcesbeingused.///</summary>protectedoverridevoidDispose(booldisposing){if(disposing&&(components!=null)){components.Dispose();}base.Dispose(disposing);}#regionWindowsFormDesignergeneratedcode///<summary>///RequiredmethodforDesignersupport-donotmodify///thecontentsofthismethodwiththecodeeditor.///</summary>privatevoidInitializeComponent(){System.ComponentModel.ComponentResourceManagerresources=newSystem.ComponentModel.ComponentResourceManager(typeof(AboutBox1));this.tableLayoutPanel=newSystem.Windows.Forms.TableLayoutPanel();this.logoPictureBox=newSystem.Windows.Forms.PictureBox();this.labelProductName=newSystem.Windows.Forms.Label();this.labelVersion=newSystem.Windows.Forms.Label();this.labelCopyright=newSystem.Windows.Forms.Label();this.labelCompanyName=newSystem.Windows.Forms.Label();this.textBoxDescription=newSystem.Windows.Forms.TextBox();this.okButton=newSystem.Windows.Forms.Button();this.tableLayoutPanel.SuspendLayout();((System.ComponentModel.ISupportInitialize)(this.logoPictureBox)).BeginInit();this.SuspendLayout();////tableLayoutPanel//this.tableLayoutPanel.ColumnCount=2;this.tableLayoutPanel.ColumnStyles.Add(newSystem.Windows.Forms.ColumnStyle(System.Windows.Forms.SizeType.Percent,33F));this.tableLayoutPanel.ColumnStyles.Add(newSystem.Windows.Forms.ColumnStyle(System.Windows.Forms.SizeType.Percent,67F));this.tableLayoutPanel.Controls.Add(this.logoPictureBox,0,0);System.Windows.Forms.RowStyle(System.Windows.Forms.SizeType.Percent,10F));this.tableLayoutPanel.RowStyles.Add(newSystem.Windows.Forms.RowStyle(System.Windows.Forms.SizeType.Percent,10F));this.tableLayoutPanel.RowStyles.Add(newSystem.Windows.Forms.RowStyle(System.Windows.Forms.SizeType.Percent,10F));this.labelProductName.Dock=System.Windows.Forms.DockStyle.Fill;this.labelProductName.Location=newSystem.Drawing.Point(143,0);this.labelProductName.Margin=newSystem.Windows.Forms.Padding(6,0,3,0);this.labelProductName.MaximumSize=newSystem.Drawing.Size(0,17);this.labelProductName.Name="labelProductName";this.labelProductName.Size=newSystem.Drawing.Size(271,17);this.labelProductName.TabIndex=19;this.labelProductName.Text="ProductName";this.labelProductName.TextAlign=System.Drawing.ContentAlignment.MiddleLeft;////labelVersion//this.labelVersion.Dock=System.Windows.Forms.DockStyle.Fill;this.labelVersion.Location=newSystem.Drawing.Point(143,26);this.labelVersion.Margin=newSystem.Windows.Forms.Padding(6,0,3,0);this.labelVersion.MaximumSize=newSystem.Drawing.Size(0,17);this.labelVersion.Name="labelVersion";this.labelVersion.Size=newSystem.Drawing.Size(271,17);this.labelVersion.TabIndex=0;this.labelVersion.Text="Version";this.labelVersion.TextAlign=System.Drawing.ContentAlignment.MiddleLeft;//labelCompanyNamethis.labelCompanyName.Dock=System.Windows.Forms.DockStyle.Fill;this.labelCompanyName.Location=newSystem.Drawing.Point(143,78);this.labelCompanyName.Margin=newSystem.Windows.Forms.Padding(6,03,0);this.labelCompanyName.MaximumSize=newSystem.Drawing.Size(0,17);this.labelCompanyName.Name="labelCompanyName";this.labelCompanyName.Size=newSystem.Drawing.Size(271,17);this.labelCompanyName.TabIndex=22;this.labelCompanyName.Text="CompanyName";this.labelCompanyName.TextAlign=System.Drawing.ContentAlignment.MiddleLeft;////textBoxDescription//this.textBoxDescription.Dock=System.Windows.Forms.DockStyle.Fill;this.textBoxDescription.Location=newSystem.Drawing.Point(143,107);this.textBoxDescription.Margin=newSystem.Windows.Forms.Padding(6,3,3,3);this.textBoxDescription.Multiline=true;this.textBoxDescription.Name="textBoxDescription";this.textBoxDescription.ReadOnly=true;}#endregionprivateSystem.Windows.Forms.TableLayoutPaneltableLayoutPanel;privateSystem.Windows.Forms.PictureBoxlogoPictureBox;privateSystem.Windows.Forms.LabellabelProductName;privateSystem.Windows.Forms.LabellabelVersion;privateSystem.Windows.Forms.LabellabelCopyright;privateSystem.Windows.Forms.LabellabelCompanyName;privateSystem.Windows.Forms.TextBoxtextBoxDescription;privateSystem.Windows.Forms.ButtonokButton;}###ISO+IEC+1989-200215IntrinsicFunctionsAT_SETUP([FUNCTIONABS])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-1.2345.PROCEDUREDIVISION.DISPLAYFUNCTIONABS(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+0001.2345])AT_CLEANUPAT_SETUP([FUNCTIONACOS])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-0.2345.01ZPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONACOS(X)TOZ.IFZ>=1.80750052110824325ANDZ<=1.80750052110824345DISPLAY"OK"END-DISPLAYELSEDISPLAYZEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONANNUITY])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)VALUE3.01YPICS9(4)VALUE5.01ZPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONANNUITY(X,Y)TOZ.IFZ>=3.002932551319648080ANDZ<=3.002932551319648110DISPLAY"OK"END-DISPLAYELSEDISPLAYZEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONASIN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-0.2345.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONASIN(X)TOY.IFY>=-0.23670419431334685ANDY<=-0.23670419431334675DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONATAN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONATAN(X)TOY.IFY>=0.78539816339744825ANDY<=0.78539816339744835DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONCHAR])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE108.PROCEDUREDIVISION.DISPLAYFUNCTIONCHAR(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[k])AT_CLEANUPAT_SETUP([FUNCTIONCOMBINED-DATETIME])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONCOMBINED-DATETIME(987,345)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[0000987.00345])AT_CLEANUPAT_SETUP([FUNCTIONCONCATENATE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(4).PROCEDUREDIVISION.MOVE"defx"TOY.DISPLAYFUNCTIONCONCATENATE(Y"abc""zz""55""666")END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[defxabczz55666])AT_CLEANUPAT_SETUP([FUNCTIONCONCATENATEwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(4).PROCEDUREDIVISION.MOVE"defx"TOY.DISPLAYFUNCTIONCONCATENATE(Y"abc""zz""55""666")(2:9)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[efxabczz5])AT_CLEANUPAT_SETUP([FUNCTIONCOS])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-0.2345.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONCOS(X)TOY.IFY>=0.97263064125625815ANDY<=0.97263064125625825DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONDATE-OF-INTEGER])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONDATE-OF-INTEGER(146000)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[20000925])AT_CLEANUPAT_SETUP([FUNCTIONDATE-TO-YYYYMMDD])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONDATE-TO-YYYYMMDD(981002,-10,1994)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[18981002])AT_CLEANUPAT_SETUP([FUNCTIONDAY-OF-INTEGER])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONDAY-OF-INTEGER(146000)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[2000269])AT_CLEANUPAT_SETUP([FUNCTIONDAY-TO-YYYYDDD])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONDAY-TO-YYYYDDD(95005,-10,2013)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[01995005])AT_CLEANUPAT_SETUP([FUNCTIONE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONEEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[2.7182818284590452353602874713526625])AT_CLEANUPAT_SETUP([FUNCTIONEXCEPTION-FILE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.ENVIRONMENTDIVISION.INPUT-OUTPUTSECTION.FILE-CONTROL.SELECTTEST-FILEASSIGN"NOTEXIST"FILESTATUSISTEST-STATUS.DATADIVISION.FILESECTION.FDTEST-FILE.01TEST-RECPICX(4).WORKING-STORAGESECTION.01TEST-STATUSPICXX.PROCEDUREDIVISION.OPENINPUTTEST-FILE.DISPLAYFUNCTIONEXCEPTION-FILEEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[35TEST-FILE])AT_CLEANUPAT_SETUP([FUNCTIONEXCEPTION-LOCATION])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.ENVIRONMENTDIVISION.INPUT-OUTPUTSECTION.FILE-CONTROL.SELECTTEST-FILEASSIGN"NOTEXIST"FILESTATUSISTEST-STATUS.DATADIVISION.FILESECTION.FDTEST-FILE.01TEST-RECPICX(4).WORKING-STORAGESECTION.01TEST-STATUSPICXX.PROCEDUREDIVISION.A00-MAINSECTION.A00.OPENINPUTTEST-FILE.B00-MAINSECTION.B00.DISPLAYFUNCTIONEXCEPTION-LOCATIONNOADVANCINGEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-debug-oprogprog.cob])AT_CHECK([./prog],[0],[prog;A00OFA00-MAIN;18])AT_CLEANUPAT_SETUP([FUNCTIONEXCEPTION-STATEMENT])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.ENVIRONMENTDIVISION.INPUT-OUTPUTSECTION.FILE-CONTROL.SELECTTEST-FILEASSIGN"NOTEXIST"FILESTATUSISTEST-STATUS.DATADIVISION.FILESECTION.FDTEST-FILE.01TEST-RECPICX(4).WORKING-STORAGESECTION.01TEST-STATUSPICXX.PROCEDUREDIVISION.OPENINPUTTEST-FILE.DISPLAYFUNCTIONEXCEPTION-STATEMENTNOADVANCINGEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-debug-oprogprog.cob])AT_CHECK([./prog],[0],[OPEN])AT_CLEANUPAT_SETUP([FUNCTIONEXCEPTION-STATUS])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.ENVIRONMENTDIVISION.INPUT-OUTPUTSECTION.FILE-CONTROL.SELECTTEST-FILEASSIGN"NOTEXIST"FILESTATUSISTEST-STATUS.DATADIVISION.FILESECTION.FDTEST-FILE.01TEST-RECPICX(4).WORKING-STORAGESECTION.01TEST-STATUSPICXX.PROCEDUREDIVISION.OPENINPUTTEST-FILE.DISPLAYFUNCTIONEXCEPTION-STATUSNOADVANCINGEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[EC-I-O-PERMANENT-ERROR])AT_CLEANUPAT_SETUP([FUNCTIONEXP])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICS99V9(16)COMP.PROCEDUREDIVISION.MOVEFUNCTIONEXP(3)TOY.IFY>=20.0855369231876636ANDY<=20.0855369231876644DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONFACTORIAL])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONFACTORIAL(6)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[000000000000000720])AT_CLEANUPAT_SETUP([FUNCTIONFRACTION-PART])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONFRACTION-PART(3.12345)END-DISPLAY.DISPLAYFUNCTIONFRACTION-PART(-3.12345)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+.123450000000000000-.123450000000000000])AT_CLEANUPAT_SETUP([FUNCTIONINTEGER])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-1.5.PROCEDUREDIVISION.DISPLAYFUNCTIONINTEGER(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-000000000000000002])AT_CLEANUPAT_SETUP([FUNCTIONINTEGER-OF-DATE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONINTEGER-OF-DATE(20000925)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00146000])AT_CLEANUPAT_SETUP([FUNCTIONINTEGER-OF-DAY])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONINTEGER-OF-DAY(2000269)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00146000])AT_CLEANUPAT_SETUP([FUNCTIONINTEGER-PART])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-1.5.PROCEDUREDIVISION.DISPLAYFUNCTIONINTEGER-PART(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-000000000000000001])AT_CLEANUPAT_SETUP([FUNCTIONLENGTH])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE-1.5.PROCEDUREDIVISION.DISPLAYFUNCTIONLENGTH(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[8])AT_CLEANUPAT_SETUP([FUNCTIONLOCALE-DATE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(32)VALUESPACES.PROCEDUREDIVISION.MOVEFUNCTIONLOCALE-DATE("19630302")TOX.IFXNOT=SPACESDISPLAY"OK"END-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONLOCALE-TIME])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(32)VALUESPACES.PROCEDUREDIVISION.MOVEFUNCTIONLOCALE-TIME("233012")TOX.IFXNOT=SPACESDISPLAY"OK"END-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONLOCALE-TIME-FROM-SECONDS])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(32)VALUESPACES.PROCEDUREDIVISION.MOVEFUNCTIONLOCALE-TIME-FROM-SECONDS(33012)TOX.IFXNOT=SPACESDISPLAY"OK"END-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONLOG])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.5.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONLOG(X)TOY.IFY>=0.40546510810816435ANDY<=0.40546510810816445DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONLOG10])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.5.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONLOG10(X)TOY.IFY>=0.17609125905568120ANDY<=0.17609125905568128DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONLOWER-CASE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"A#B.C%D+E$".PROCEDUREDIVISION.DISPLAYFUNCTIONLOWER-CASE(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[a#b.c%d+e$])AT_CLEANUPAT_SETUP([FUNCTIONLOWER-CASEwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"A#B.C%D+E$".PROCEDUREDIVISION.DISPLAYFUNCTIONLOWER-CASE(X)(1:3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[a#b])AT_CLEANUPAT_SETUP([FUNCTIONMAX])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMAX(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[8])AT_CLEANUPAT_SETUP([FUNCTIONMEAN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMEAN(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-1.20000000000000000])AT_CLEANUPAT_SETUP([FUNCTIONMEDIAN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMEDIAN(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[0])AT_CLEANUPAT_SETUP([FUNCTIONMIDRANGE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMIDRANGE(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-3.000000000000000000])AT_CLEANUPAT_SETUP([FUNCTIONMIN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMIN(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-14])AT_CLEANUPAT_SETUP([FUNCTIONMOD])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONMOD(-115)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+000000000000000004])AT_CLEANUPAT_SETUP([FUNCTIONNUMVAL])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(12)VALUE"-9876.1234".PROCEDUREDIVISION.DISPLAYFUNCTIONNUMVAL(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-00000000009876.1234])AT_CLEANUPAT_SETUP([FUNCTIONNUMVAL-C])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(14)VALUE"%-9876.1234".PROCEDUREDIVISION.DISPLAYFUNCTIONNUMVAL-C(X,"%")END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-00000000009876.1234])AT_CLEANUPAT_SETUP([FUNCTIONORD])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONORD("k")END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00000108])AT_CLEANUPAT_SETUP([FUNCTIONORD-MAX])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONORD-MAX(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00000004])AT_CLEANUPAT_SETUP([FUNCTIONORD-MIN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONORD-MIN(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00000002])AT_CLEANUPAT_SETUP([FUNCTIONPI])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONPIEND-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[3.1415926535897932384626433832795029])AT_CLEANUPAT_SETUP([FUNCTIONPRESENT-VALUE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONPRESENT-VALUE(321)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[0.562500000000000000])AT_CLEANUPAT_SETUP([FUNCTIONRANGE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONRANGE(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+000000000000000022])AT_CLEANUPAT_SETUP([FUNCTIONREM])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONREM(-115)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[-000000000000000001])AT_CLEANUPAT_SETUP([FUNCTIONREVERSE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"A#B.C%D+E$".PROCEDUREDIVISION.DISPLAYFUNCTIONREVERSE(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[$E+D%C.B#A])AT_CLEANUPAT_SETUP([FUNCTIONREVERSEwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"A#B.C%D+E$".PROCEDUREDIVISION.DISPLAYFUNCTIONREVERSE(X)(1:4)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[$E+D])AT_CLEANUPAT_SETUP([FUNCTIONSECONDS-FROM-FORMATTED-TIME])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(6)VALUE"hhmmss".01YPIC9(8)COMP-5.01ZPICX(6)VALUE"010203".PROCEDUREDIVISION.MOVEFUNCTIONSECONDS-FROM-FORMATTED-TIME(X,Z)TOY.IFY=3723DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONSECONDS-PAST-MIDNIGHT])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPIC9(8)COMP-5.PROCEDUREDIVISION.MOVEFUNCTIONSECONDS-PAST-MIDNIGHTTOY.IFY<86402DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONSIGN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONSIGN(3.12345)END-DISPLAY.DISPLAYFUNCTIONSIGN(-0.0)END-DISPLAY.DISPLAYFUNCTIONSIGN(0.0)END-DISPLAY.DISPLAYFUNCTIONSIGN(-3.12345)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+00000001+00000000+00000000-00000001])AT_CLEANUPAT_SETUP([FUNCTIONSIN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.5.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONSIN(X)TOY.IFY>=0.99749498660405440ANDY<=0.99749498660405450DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONSQRT])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.5.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONSQRT(X)TOY.IFY>=1.22474487139158890ANDY<=1.22474487139158899DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONSTANDARD-DEVIATION])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICS9V9(17)COMP.PROCEDUREDIVISION.MOVEFUNCTIONSTANDARD-DEVIATION(3-1408-3)TOY.IFY>=7.35934779718963925ANDY<=7.35934779718964025DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONSTORED-CHAR-LENGTH])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(24).PROCEDUREDIVISION.MOVE"123456789012"TOY.DISPLAYFUNCTIONSTORED-CHAR-LENGTH(Y)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[00000012])AT_CLEANUPAT_SETUP([FUNCTIONSUBSTITUTE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(20).PROCEDUREDIVISION.MOVE"abc111444555defxxabc"TOY.DISPLAYFUNCTIONSUBSTITUTE(Y"abc""zz""55""666")END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[zz1114446665defxxzz])AT_CLEANUPAT_SETUP([FUNCTIONSUBSTITUTEwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(20).PROCEDUREDIVISION.MOVE"abc111444555defxxabc"TOY.DISPLAYFUNCTIONSUBSTITUTE(Y"abc""zz""55""666")(2:9)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[z11144466])AT_CLEANUPAT_SETUP([FUNCTIONSUBSTITUTE-CASE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(20).PROCEDUREDIVISION.MOVE"ABC111444555defxxabc"TOY.DISPLAYFUNCTIONSUBSTITUTE-CASE(Y"abc""zz""55""666")END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[zz1114446665defxxzz])AT_CLEANUPAT_SETUP([FUNCTIONSUBSTITUTE-CASEwithreferencemod])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01YPICX(20).PROCEDUREDIVISION.MOVE"abc111444555defxxabc"TOY.DISPLAYFUNCTIONSUBSTITUTE-CASE(Y"ABC""zz""55""666")(2:9)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[z11144466])AT_CLEANUPAT_SETUP([FUNCTIONTAN])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICS9(4)V9(4)VALUE1.5.01YPICS99V9(16)COMP.PROCEDUREDIVISION.MOVEFUNCTIONTAN(X)TOY.IFY>=14.1014199471717185ANDY<=14.1014199471717205DISPLAY"OK"END-DISPLAYELSEDISPLAYYEND-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPAT_SETUP([FUNCTIONTRIM])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(12)VALUE"a#b.c%d+e$".PROCEDUREDIVISION.DISPLAYFUNCTIONTRIM(X)END-DISPLAY.DISPLAYFUNCTIONTRIM(XTRAILING)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[a#b.c%d+e$a#b.c%d+e$])AT_CLEANUPAT_SETUP([FUNCTIONTRIMwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(12)VALUE"a#b.c%d+e$".PROCEDUREDIVISION.DISPLAYFUNCTIONTRIM(X)(2:3)END-DISPLAY.DISPLAYFUNCTIONTRIM(XTRAILING)(2:3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[#b.a#b])AT_CLEANUPAT_SETUP([FUNCTIONUPPER-CASE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"a#b.c%d+e$".PROCEDUREDIVISION.DISPLAYFUNCTIONUPPER-CASE(X)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[A#B.C%D+E$])AT_CLEANUPAT_SETUP([FUNCTIONUPPER-CASEwithreferencemodding])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XPICX(10)VALUE"a#b.c%d+e$".PROCEDUREDIVISION.DISPLAYFUNCTIONUPPER-CASE(X)(1:3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[A#B])AT_CLEANUPAT_SETUP([FUNCTIONVARIANCE])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.PROCEDUREDIVISION.DISPLAYFUNCTIONVARIANCE(3-1408-3)END-DISPLAY.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[+54.1600000000000000])AT_CLEANUPAT_SETUP([FUNCTIONWHEN-COMPILED])AT_DATA([prog.cob],[IDENTIFICATIONDIVISION.PROGRAM-ID.prog.DATADIVISION.WORKING-STORAGESECTION.01XYZ.03XPICX.03FILLERPICX(20).PROCEDUREDIVISION.MOVEFUNCTIONWHEN-COMPILEDTOXYZ.IFX="2"DISPLAY"OK"END-DISPLAYELSEDISPLAY"NOTOK"END-DISPLAYEND-IF.STOPRUN.])AT_CHECK([${COMPILE}-oprogprog.cob])AT_CHECK([./prog],[0],[OK])AT_CLEANUPscreensay(who,what,side_image=None,two_window=False):zorder10#addTransform(Text("PyTFaLL",style="earthkid",color=black,size=50),alpha=.6)align(0.6,0.9)#addTransform(Text("PyTFaLL",style="earthkid",color=azure,size=70),alpha=.5)align(0.1,0.95)#addTransform(Text("PyTFaLL",style="earthkid",color=black,size=50),alpha=.6)align(0.8,0.98)#addTransform(Text("PyTFaLL",style="earthkid",color=black,size=50),alpha=.6)align(0.9,0.9ifblock_say:button:backgroundNull()xysize(config.screen_width,config.screen_height)actionReturn()#Decideifwewanttousetheone-windowortwo-windowvariant.ifnottwo_window:#Theonewindowvariant.window:id"window"hasvbox:style"say_vbox"ifwho:textwhoid"who"textwhatid"what"else:#Thetwowindowvariant.vbox:style"say_two_window_vbox"ifwho:window:style"say_who_window"textwho:id"who"window:id"window"hasvbox:style"say_vbox"textwhatid"what"#Ifthere'sasideimage,displayitabovethetext.ifside_image:#InordertohavemorecontroloverthesayscreenportraitsforCharswepassinstancesofCharhere:ifisinstance(side_image,Char):ifside_image.say_screen_portrait_overlay_mode=="zoom_fast":addAt(side_image.say_screen_portrait,interactions_zoom(.2))pos219,639anchor.5,.5elifside_image.say_screen_portrait_overlay_mode=="zoom_slow":addAt(side_image.say_screen_portrait,interactions_zoom(1.2))pos219,639anchor.5,.5elifside_image.say_screen_portrait_overlay_mode=="test_case":addside_image.say_screen_portraitpos219,639anchor.5,.5#addinteractions_surprised_trpos150,650yanchor1.0else:addside_image.say_screen_portraitpos219,639anchor.5,.5ifside_image.say_screen_portrait_overlay_modenotin[None]+side_image.UNIQUE_SAY_SCREEN_PORTRAIT_OVERLAYS:timer.0001actionFunction(interactions_portraits_overlay.change,side_image.say_screen_portrait_overlay_mode)addinteractions_portraits_overlayelse:addside_imagexalign0.138yalign0.968addinteractions_portraits_overlayelse:addSideImage()xalign0.0yalign1.0#Usethequickmenu.usequick_menu###############################################################################Choice##Screenthat'susedtodisplayin-gamemenus.#http://www.renpy.org/doc/html/screen_special.html#choicescreenchoice(items):zorder15modalTruewindow:style"menu_window"align(0.5,0.5)vbox:style"menu"spacing2$item=items[0][0]ifiteminmenu_extensions:forcap,actinmenu_extensions.build_choices(item):ifact:button:ifisinstance(act,(list,tuple))and"return"inact:actionMenuExtensionAction(act,[items[0][1]])else:actionactstyle"menu_choice_button_blue"textcapstyle"menu_choice"else:textcapstyle"menu_caption"forcaption,action,choseninitems:ifcaptioninmenu_extensions:$passelse:ifaction:button:actionactionstyle"menu_choice_button"textcaptionstyle"menu_choice"else:textcaptionstyle"menu_caption"init-2:$config.narrator_menu=True###############################################################################Input##Screenthat'susedtodisplayrenpy.input()#http://www.renpy.org/doc/html/screen_special.html#inputscreeninput(prompt=""):windowstyle"input_window":hasvboxtextpromptstyle"input_prompt"inputid"input"style"input_text"usequick_menu###############################################################################Nvl##Screenusedfornvl-modedialogueandmenus.#http://www.renpy.org/doc/html/screen_special.html#nvlscreennvl(dialogue,items=None):window:style"nvl_window"hasvbox:style"nvl_vbox"#Displaydialogue.forwho,what,who_id,what_id,window_idindialogue:window:idwindow_idhashbox:spacing10ifwhoisnotNone:textwhoidwho_idtextwhatidwhat_id#Displayamenu,ifgiven.ifitems:vbox:id"menu"forcaption,action,choseninitems:ifaction:button:style"nvl_menu_choice_button"actionactiontextcaptionstyle"nvl_menu_choice"else:textcaptionstyle"nvl_dialogue"addSideImage()xalign0.0yalign1.0usequick_menu###############################################################################MainMenu##Screenthat'susedtodisplaythemainmenu,whenRen'Pyfirststarts#http://www.renpy.org/doc/html/screen_special.html#main-menutransformpatreon_hover(init_alpha=.25):alphainit_alphaadditive.4onhover:linear1.0alpha1.0onidle:linear1.0alpha.25screenmain_menu():tagmenudefaultprereqs=exist(["content/chars/","content/rchars/"])defaultmap_options=["content/gfx/bg/locations/map_buttons/dark/","content/gfx/bg/locations/map_buttons/bright/","content/gfx/bg/locations/map_buttons/gismo/"]#Thebackgroundofthemainmenu.add"bg_main"ifnotrenpy.get_screen("credits"):vbox:align(.5,.01)text"Supportuson:":atpatreon_hover(init_alpha=.4)xalign.5size22colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruehbox:spacing60button:atpatreon_hoverxalign.5xysize(100,100)backgroundProportionalScale("content/gfx/interface/icons/credits/x_hole_idle.png",100,100)hover_backgroundProportionalScale("content/gfx/interface/icons/credits/x_hole_hover.png",100,100)actionOpenURL('https://www.patreon.com/xelapy')addAt(ProportionalScale("content/gfx/interface/icons/credits/patreonlogoorange.png",100,25,yalign=1.0),patreon_bounce)#nullwidth10button:atpatreon_hoverxalign.5xysize(100,100)backgroundProportionalScale("content/gfx/interface/icons/credits/dark_hole_idle.png",100,100)hover_backgroundProportionalScale("content/gfx/interface/icons/credits/dark_hole_hover.png",100,100)actionOpenURL('https://www.patreon.com/darkt')addAt(ProportionalScale("content/gfx/interface/icons/credits/patreonlogoorange.png",100,25,yalign=1.0),patreon_bounce)#button:#background"content/gfx/interface/logos/gibc.png"#hover_backgroundim.MatrixColor("content/gfx/interface/logos/gibc.png",im.matrix.brightness(0.10))#actionOpenURL('https://mega.nz/#!mxAw0Q5b!F-4-An4oK5TbB9BO5e-M0Elslolrim6t3UxBdGolj-8')#focus_maskTrue#xysize(350,342)#$index=map_options.index(persistent.town_path)#button:#xalign0#yalign1.0#xysize(60,25)#style"blue1"#text"<->"colorblackalign(0.5,0.5)size15#action[SetField(persistent,"town_path",map_options[(index+1)%len(map_options)]),Jump("_save_reload_game")]#$img=ProportionalScale("content/gfx/interface/icons/arena.png",60,60)#imagebutton:#pos(380,460)#idle(img)#hover(im.MatrixColor(img,im.matrix.brightness(0.25)))#actionShow("credits",transition=ImageDissolve("content/gfx/masks/m02.webp",3))ifnotprereqs:frame:backgroundFrame("content/gfx/frame/FrameGP.png",40,40)xanchor0xpos0.50xmaximum300yalign0.5text("Resourcesaremissing,thegamewon'trunwithout.Seetheinstructionsonthe"+"{a=http://www.pinkpetal.org/index.php?topic=3401.0}{size=15}forum{/size}{/a}."+"Atleastoneuniquecharacterwithaccompanied.jsonisrequired"+"inthe\n{i}game/content/chars/{/i}subdirectoryofPyTFallaswellas"+"onerandomcharacter.jsoninthe\n"+"{i}game/content/{b}r{/b}chars/{/i}directory.")size15#=====Animation=====#viewport:xysize(768,328)pos(514,100)add"mm_clouds"atmm_clouds(768,0,50)add"mm_clouds"atmm_clouds(0,-768,50)add"eyes"pos(150,410)#add"logo"pos(980,250)add"anim_logo"pos(980,250)#staticlogoadd"fog"atfog#Fireviewport:xysize(200,526)pos(580,100)#addTransform(Solid(red,xysize=(20,263)),alpha=1)atmm_fire(366,0,30)#addTransform(Solid(black,xysize=(20,263)),alpha=1)atmm_fire(1009,0,30)add"mm_fire"atmm_fire(263,0,1.0,0,8)add"mm_fire"atmm_fire(526,263,0,1,8)add"mm_fire"atmm_fire(426,163,0.5,0,8)#Themainmenubuttons.vbox:align(0.947,0.87)frame:backgroundNull()style_group"mmenu"vbox:spacing4textbutton_("NewGame")actionSensitiveIf(prereqs),Start()xalign0.5nullheight4textbutton_("LoadGame")actionSensitiveIf(prereqs),Show("s_menu",s_menu="Load"),With(dissolve)textbutton_("Settings")actionShow("s_menu",s_menu="Settings"),With(dissolve)hbox:xalign0.5textbutton_("Credits")actionShow("credits",transition=ImageDissolve("content/gfx/masks/m02.webp",1))xsize85text_size16textbutton_("Help")actionShow("discord",transition=ImageDissolve("content/gfx/masks/m02.webp",1))xsize85text_size16textbutton_("Quit")actionQuit(confirm=False)xalign0.5screendiscord():zorder1modalTrueframe:backgroundTransform(Frame("content/gfx/frame/frame_dec_1.png",20,20),alpha=.7)pos(10,120)xysize(900,580)style_group"mmenu"textbutton"Hide":align(0.5,0.90)actionHide("discord",transition=dissolve)vbox:xalign.5yalign.2text"Thegameisstillindevelopment.Supportusifyouenjoyedit!"align(.45,.1)size25colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruestyle_prefix"proper_stats"nullheight10text"ANYQUESTIONSORBUGSTOREPORT?"size35colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruestyle_prefix"proper_stats"xalign.5text"JOINOURCOMMUNITYON:"size35colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruestyle_prefix"proper_stats"xalign.5nullheight5button:yalign.6xalign.5xysize300,83backgroundTransform("content/gfx/interface/icons/credits/discord.png",zoom=.9,align=(.5,.5))hover_backgroundTransform("content/gfx/interface/icons/credits/discord.png",align=(.5,.5))actionOpenURL("https://discord.gg/4tT4qmW")screencredits():zorder1modalTrueframe:backgroundTransform(Frame("content/gfx/frame/frame_dec_1.png",20,20),alpha=.9)pos(10,10)xysize(900,700)style_group"mmenu"text"AboutUs":xalign.5ypos50size35colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruestyle_prefix"proper_stats"side"cr":area(100,100,800,550)viewportid"vp":draggableTruemousewheelTruevbox:hbox:xalign.52vbox:style_prefix"proper_stats"text"CoreCoding"xalign.5size22colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruebutton:xalign.5xysize(100,100)backgroundProportionalScale("content/gfx/interface/icons/credits/x_hole_idle.png",100,100)hover_backgroundProportionalScale("content/gfx/interface/icons/credits/x_hole_hover.png",100,100)actionOpenURL('https://www.patreon.com/xelapy')addAt(ProportionalScale("content/gfx/interface/icons/credits/patreonlogoorange.png",100,25,yalign=1.0),patreon_bounce)nullheight3text"XelaPy"xalign.5size30colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruehbox:spacing10xalign.5button:xysize30,30backgroundFrame("content/gfx/interface/icons/credits/twitter.png")hover_backgroundFrame(im.MatrixColor("content/gfx/interface/icons/credits/twitter.png",im.matrix.brightness(.05)))actionOpenURL('https://twitter.com/XelaPy')button:xysize30,30backgroundFrame("content/gfx/interface/icons/credits/youtube.png")hover_backgroundFrame(im.MatrixColor("content/gfx/interface/icons/credits/youtube.png",im.matrix.brightness(.05)))actionOpenURL('https://www.youtube.com/channel/UCWnMQ6MO-KpMytYf4hoFFBA')nullwidth100vbox:style_prefix"proper_stats"text"ContentandCoding":size22xalign.5colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruebutton:xalign.5xysize(100,100)backgroundProportionalScale("content/gfx/interface/icons/credits/dark_hole_idle.png",100,100)hover_backgroundProportionalScale("content/gfx/interface/icons/credits/dark_hole_hover.png",100,100)actionOpenURL('https://www.patreon.com/darkt')addAt(ProportionalScale("content/gfx/interface/icons/credits/patreonlogoorange.png",100,25,yalign=1.0),patreon_bounce)nullheight3text"DarkTl":align.5,1.0size30colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruenullheight30nullheight10text"Thegameisstillindevelopment.Supportusifyouenjoyedit!":size25colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruestyle_prefix"proper_stats"nullheight10vbox:style_prefix"proper_stats"text"Specialthanksto:":size22colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruetext"AllartistsandcomposersforamazingcontentfeaturedinPyTFall."text"TomRothamelforRen'Py."nullheight10text"Manythanksto:":size22colorgoldenroddrop_shadow[(1,2)]drop_shadow_colorblackantialiasTruetext"TheWorst,Gismo,Picobyte,CherryWood,Xipomus,Lamoli,Thewlis,Rudistoned,"text"Eliont,Matt,Longint,Armegetton,MrKlaus,Krakr,Sysreq,GonDra,Jaeke,Janmaba."textbutton"Hide":align.5,.90actionHide("credits",transition=dissolve)###############################################################################Navigation##Screenthat'sincludedinotherscreenstodisplaythegamemenu#navigationandbackground.#http://www.renpy.org/doc/html/screen_special.html#navigationscreennavigation():#Thebackgroundofthegamemenu.#window:#style"gm_root"#Thevariousbuttons.frame:style_group"gm_nav"xalign.98yalign.98hasvboxtextbutton_("Return")actionReturn()textbutton_("Settings")actionShow("s_menu",s_menu="Settings"),With(dissolve)#actionShowMenu("preferences")textbutton_("SaveGame")actionShow("s_menu",s_menu="Save"),With(dissolve)#actionShowMenu("save")textbutton_("LoadGame")actionShow("s_menu",s_menu="Load"),With(dissolve)#actionShowMenu("load")textbutton_("MainMenu")actionMainMenu()#textbutton_("Help")actionHelp()textbutton_("Quit")actionQuit()key"mousedown_3"actionReturn()###############################################################################Yes/NoPrompt##Screenthataskstheuserayesornoquestion.#http://www.renpy.org/doc/html/screen_special.html#yesno-promptscreenyesno_prompt(message,yes_action,no_action):zorder10000000modalTrue#window:#style"gm_root"addTransform("content/gfx/images/bg_gradient2.png",alpha=.3)frame:backgroundFrame(Transform("content/gfx/frame/ink_box.png",alpha=.65),10,10)style_prefix"dropdown_gm2"minimum550,200margin10,10padding10,10align.5,.1hasvbox:align.5,.5spacing30label_(message)xalign0.5text_text_align0.5text_color"#ecc88a"text_font"fonts/TisaOTM.otf"text_size17text_outlines[(1,"#3a3a3a",0,0)]hbox:xalign.5spacing100textbutton_("Yes")actionyes_actiontextbutton_("No")actionno_action#Right-clickandescapeanswer"no".key"game_menu"actionno_actionkey"K_RETURN"actionyes_actionkey"K_ESCAPE"actionno_action###############################################################################QuickMenu##Ascreenthat'sincludedbythedefaultsayscreen,andaddsquickaccessto#severalusefulfunctions.screenquick_menu():#Addanin-gamequickmenu.hbox:style_group"quick"#xalign1.0#yalign1.0pos(937,773)#textbutton_("Back")actionRollback()#textbutton_("Save")actionShowMenu('save')textbutton_("Q.Save")actionQuickSave()textbutton_("Q.Load")actionQuickLoad()textbutton_("Skip")actionSkip()textbutton_("F.Skip")actionSkip(fast=True,confirm=True)textbutton_("Auto")actionPreference("auto-forward","toggle")#textbutton_("Prefs")actionShowMenu('preferences')init:#Defaultpreferencemenus,replacesbyourownversions:###############################################################################Save,Load##Screensthatallowtheusertosaveandloadthegame.#http://www.renpy.org/doc/html/screen_special.html#save#http://www.renpy.org/doc/html/screen_special.html#load#Sincesavingandloadingaresosimilar,wecombinetheminto#asinglescreen,file_picker.Wethenusethefile_pickerscreen#fromsimpleloadandsavescreens.screenfile_picker():frame:style"file_picker_frame"hasvbox#Thebuttonsatthetopallowtheusertopicka#pageoffiles.hbox:style_group"file_picker_nav"textbutton_("Previous"):actionFilePagePrevious()textbutton_("Auto"):actionFilePage("auto")textbutton_("Quick"):actionFilePage("quick")foriinrange(1,9):textbuttonstr(i):actionFilePage(i)textbutton_("Next"):actionFilePageNext()$columns=2$rows=4#Displayagridoffileslots.gridcolumnsrows:transposeTruexfillTruestyle_group"file_picker"#Displaytenfileslots,numbered1-10.foriinrange(1,columns*rows+1):$file_name=FileSlotName(i,columns*rows)$file_time=FileTime(i,empty=_("EmptySlot."))$json_info=FileJson(i,empty=_(""))$save_name=FileSaveName(i)#Eachfileslotisabutton.button:actionFileAction(i)xfillTruehashbox#Addthescreenshot.addFileScreenshot(i)vbox:spacing1text"[file_name].[file_time!t]\n[save_name!t]"xpos70hbox:xpos20spacing4forkeyinjson_info:ifnotkey.startswith("_"):$val=json_info[key]text"[key]:[val]"key"save_delete"actionFileDelete(i)screensave():#Thisensuresthatanyothermenuscreenisreplaced.tagmenuusenavigationusefile_pickerscreenload():#Thisensuresthatanyothermenuscreenisreplaced.tagmenuusenavigationusefile_picker###############################################################################Preferences##Screenthatallowstheusertochangethepreferences.#http://www.renpy.org/doc/html/screen_special.html#preferecesscreenpreferences():tagmenu#Includethenavigation.usenavigation#Putthenavigationcolumnsinathree-widegrid.grid31:style_group"prefs"xfillTrue#Theleftcolumn.vbox:frame:style_group"pref"hasvboxlabel_("Display")textbutton_("Window")actionPreference("display","window")textbutton_("Fullscreen")actionPreference("display","fullscreen")frame:style_group"pref"hasvboxlabel_("Transitions")textbutton_("All")actionPreference("transitions","all")textbutton_("None")actionPreference("transitions","none")frame:style_group"pref"hasvboxlabel_("TextSpeed")barvaluePreference("textspeed")frame:style_group"pref"hasvboxtextbutton_("Joystick...")actionPreference("joystick")vbox:frame:style_group"pref"hasvboxlabel_("Skip")textbutton_("SeenMessages")actionPreference("skip","seen")textbutton_("AllMessages")actionPreference("skip","all")frame:style_group"pref"hasvboxtextbutton_("BeginSkipping")actionSkip()frame:style_group"pref"hasvboxlabel_("AfterChoices")textbutton_("StopSkipping")actionPreference("afterchoices","stop")textbutton_("KeepSkipping")actionPreference("afterchoices","skip")frame:style_group"pref"hasvboxlabel_("Auto-ForwardTime")barvaluePreference("auto-forwardtime")ifconfig.has_voice:textbutton_("WaitforVoice")actionPreference("waitforvoice","toggle")vbox:frame:style_group"pref"hasvboxlabel_("Mute")textbutton"Music":actionPreference("musicmute","toggle")textbutton"Sound":actionPreference("soundmute","toggle")frame:style_group"pref"hasvboxlabel_("MusicVolume")barvaluePreference("musicvolume")frame:style_group"pref"hasvboxlabel_("SoundVolume")barvaluePreference("soundvolume")ifconfig.sample_sound:textbutton_("Test"):actionPlay("sound",config.sample_sound)style"soundtest_button"ifconfig.has_voice:frame:style_group"pref"hasvboxlabel_("VoiceVolume")barvaluePreference("voicevolume")textbutton_("VoiceSustain")actionPreference("voicesustain","toggle")ifconfig.sample_voice:textbutton_("Test"):actionPlay("voice",config.sample_voice)style"soundtest_button"structid_table{__u16match_flags;__u16lmp_subver;__u16hci_rev;boolconfig_needed;char*fw_name;char*cfg_name;};staticconststructid_tableic_id_table[]={/*8723B*/{IC_INFO(RTL_ROM_LMP_8723B,0xb),.config_needed=false,.fw_name="rtl_bt/rtl8723b_fw.bin",.cfg_name="rtl_bt/rtl8723b_config.bin"},/*8723D*/{IC_INFO(RTL_ROM_LMP_8723B,0xd),.config_needed=true,.fw_name="rtl_bt/rtl8723d_fw.bin",.cfg_name="rtl_bt/rtl8723d_config.bin"},/*8821A*/{IC_INFO(RTL_ROM_LMP_8821A,0xa),.config_needed=false,.fw_name="rtl_bt/rtl8821a_fw.bin",.cfg_name="rtl_bt/rtl8821a_config.bin"},/*8821C*/{IC_INFO(RTL_ROM_LMP_8821A,0xc),.config_needed=false,.fw_name="rtl_bt/rtl8821c_fw.bin",.cfg_name="rtl_bt/rtl8821c_config.bin"},/*8761A*/{IC_MATCH_FL_LMPSUBV,RTL_ROM_LMP_8761A,0x0,.config_needed=false,.fw_name="rtl_bt/rtl8761a_fw.bin",.cfg_name="rtl_bt/rtl8761a_config.bin"},/*8822B*/{IC_INFO(RTL_ROM_LMP_8822B,0xb),.config_needed=true,.fw_name="rtl_bt/rtl8822b_fw.bin",.cfg_name="rtl_bt/rtl8822b_config.bin"},};staticintrtl_read_rom_version(structhci_dev*hdev,u8*version){structrtl_rom_version_evt*rom_version;structsk_buff*skb;/*ReadRTLROMversioncommand*/skb=__hci_cmd_sync(hdev,0xfc6d,0,NULL,HCI_INIT_TIMEOUT);if(IS_ERR(skb)){BT_ERR("%s:ReadROMversionfailed(%ld)",hdev->name,PTR_ERR(skb));returnPTR_ERR(skb);}if(skb->len!=sizeof(*rom_version)){BT_ERR("%s:RTLversioneventlengthmismatch",hdev->name);kfree_skb(skb);return-EIO;}rom_version=(structrtl_rom_version_evt*)skb->data;bt_dev_info(hdev,"rom_versionstatus=%xversion=%x",rom_version->status,rom_version->version);*version=rom_version->version;kfree_skb(skb);return0;}staticintrtlbt_parse_firmware(structhci_dev*hdev,u16lmp_subver,conststructfirmware*fw,unsignedchar**_buf){constu8extension_sig[]={0x51,0x04,0xfd,0x77};structrtl_epatch_header*epatch_info;unsignedchar*buf;inti,ret,len;size_tmin_size;u8opcode,length,data,rom_version=0;intproject_id=-1;constunsignedchar*fwptr,*chip_id_base;constunsignedchar*patch_length_base,*patch_offset_base;u32patch_offset=0;u16patch_length,num_patches;staticconststruct{__u16lmp_subver;__u8id;}project_id_to_lmp_subver[]={{RTL_ROM_LMP_8723A,0},{RTL_ROM_LMP_8723B,1},{RTL_ROM_LMP_8821A,2},{RTL_ROM_LMP_8761A,3},{RTL_ROM_LMP_8822B,8},{RTL_ROM_LMP_8723B,9},/*8723D*/{RTL_ROM_LMP_8821A,10},/*8821C*/};ret=rtl_read_rom_version(hdev,&rom_version);if(ret)returnret;min_size=sizeof(structrtl_epatch_header)+sizeof(extension_sig)+3;if(fw->size<min_size)return-EINVAL;fwptr=fw->data+fw->size-sizeof(extension_sig);if(memcmp(fwptr,extension_sig,sizeof(extension_sig))!=0){BT_ERR("%s:extensionsectionsignaturemismatch",hdev->name);return-EINVAL;}/*Loopfromtheendofthefirmwareparsinginstructions,until*wefindaninstructionthatidentifiesthe"projectID"forthe*hardwaresupportedbythisfirwmarefile.*Oncewehavethat,wedouble-checkthatthatproject_idissuitable*forthehardwareweareworkingwith.*/while(fwptr>=fw->data+(sizeof(structrtl_epatch_header)+3)){opcode=*--fwptr;length=*--fwptr;data=*--fwptr;BT_DBG("checkop=%xlen=%xdata=%x",opcode,length,data);if(opcode==0xff)/*EOF*/break;if(length==0){BT_ERR("%s:foundinstructionwithlength0",hdev->name);return-EINVAL;}if(opcode==0&&length==1){project_id=data;break;}fwptr-=length;}if(project_id<0){BT_ERR("%s:failedtofindversioninstruction",hdev->name);return-EINVAL;}/*Findproject_idintable*/for(i=0;i<ARRAY_SIZE(project_id_to_lmp_subver);i++){if(project_id==project_id_to_lmp_subver[i].id)break;}if(i>=ARRAY_SIZE(project_id_to_lmp_subver)){BT_ERR("%s:unknownprojectid%d",hdev->name,project_id);return-EINVAL;}if(lmp_subver!=project_id_to_lmp_subver[i].lmp_subver){BT_ERR("%s:firmwareisfor%xbutthisisa%x",hdev->name,project_id_to_lmp_subver[i].lmp_subver,lmp_subver);return-EINVAL;}epatch_info=(structrtl_epatch_header*)fw->data;if(memcmp(epatch_info->signature,RTL_EPATCH_SIGNATURE,8)!=0){BT_ERR("%s:badEPATCHsignature",hdev->name);return-EINVAL;}num_patches=le16_to_cpu(epatch_info->num_patches);BT_DBG("fw_version=%x,num_patches=%d",le32_to_cpu(epatch_info->fw_version),num_patches);/*Afterthertl_epatch_headerthereisafunkypatchmetadatasection.*Assuming2patches,thelayoutis:*ChipID1ChipID2PatchLength1PatchLength2PatchOffset1PatchOffset2**Findtherightpatchforthischip.*/min_size+=8*num_patches;if(fw->size<min_size)return-EINVAL;chip_id_base=fw->data+sizeof(structrtl_epatch_header);patch_length_base=chip_id_base+(sizeof(u16)*num_patches);patch_offset_base=patch_length_base+(sizeof(u16)*num_patches);for(i=0;i<num_patches;i++){u16chip_id=get_unaligned_le16(chip_id_base+(i*sizeof(u16)));if(chip_id==rom_version+1){patch_length=get_unaligned_le16(patch_length_base+(i*sizeof(u16)));patch_offset=get_unaligned_le32(patch_offset_base+(i*sizeof(u32)));break;}}if(!patch_offset){BT_ERR("%s:didn'tfindpatchforchipid%d",hdev->name,rom_version);return-EINVAL;}BT_DBG("length=%xoffset=%xindex%d",patch_length,patch_offset,i);min_size=patch_offset+patch_length;if(fw->size<min_size)return-EINVAL;/*Copythefirmwareintoanewbufferandwritetheversionat*theend.*/len=patch_length;buf=kmemdup(fw->data+patch_offset,patch_length,GFP_KERNEL);if(!buf)return-ENOMEM;memcpy(buf+patch_length-4,&epatch_info->fw_version,4);*_buf=buf;returnlen;}staticintrtl_download_firmware(structhci_dev*hdev,constunsignedchar*data,intfw_len){structrtl_download_cmd*dl_cmd;intfrag_num=fw_len/RTL_FRAG_LEN+1;intfrag_len=RTL_FRAG_LEN;intret=0;inti;dl_cmd=kmalloc(sizeof(structrtl_download_cmd),GFP_KERNEL);if(!dl_cmd)return-ENOMEM;for(i=0;i<frag_num;i++){structsk_buff*skb;BT_DBG("downloadfw(%d/%d)",i,frag_num);dl_cmd->index=i;if(i==(frag_num-1)){dl_cmd->index|=0x80;/*dataend*/frag_len=fw_len%RTL_FRAG_LEN;}memcpy(dl_cmd->data,data,frag_len);/*Senddownloadcommand*/skb=__hci_cmd_sync(hdev,0xfc20,frag_len+1,dl_cmd,HCI_INIT_TIMEOUT);if(IS_ERR(skb)){BT_ERR("%s:downloadfwcommandfailed(%ld)",hdev->name,PTR_ERR(skb));ret=-PTR_ERR(skb);gotoout;}if(skb->len!=sizeof(structrtl_download_response)){BT_ERR("%s:downloadfweventlengthmismatch",hdev->name);kfree_skb(skb);ret=-EIO;gotoout;}kfree_skb(skb);data+=RTL_FRAG_LEN;}out:kfree(dl_cmd);returnret;}staticintrtl_load_config(structhci_dev*hdev,constchar*name,u8**buff){conststructfirmware*fw;intret;bt_dev_info(hdev,"rtl:loading%s",name);ret=request_firmware(&fw,name,&hdev->dev);if(ret<0)returnret;ret=fw->size;*buff=kmemdup(fw->data,ret,GFP_KERNEL);if(!*buff)ret=-ENOMEM;release_firmware(fw);returnret;}staticintbtrtl_setup_rtl8723a(structhci_dev*hdev){conststructfirmware*fw;intret;bt_dev_info(hdev,"rtl:loadingrtl_bt/rtl8723a_fw.bin");ret=request_firmware(&fw,"rtl_bt/rtl8723a_fw.bin",&hdev->dev);if(ret<0){BT_ERR("%s:Failedtoloadrtl_bt/rtl8723a_fw.bin",hdev->name);returnret;}if(fw->size<8){ret=-EINVAL;gotoout;}/*Checkthatthefirmwaredoesn'thavetheepatchsignature*(whichisonlyforRTL8723Bandnewer).*/if(!memcmp(fw->data,RTL_EPATCH_SIGNATURE,8)){BT_ERR("%s:unexpectedEPATCHsignature!",hdev->name);ret=-EINVAL;gotoout;}ret=rtl_download_firmware(hdev,fw->data,fw->size);out:release_firmware(fw);returnret;}staticintbtrtl_setup_rtl8723b(structhci_dev*hdev,u16hci_rev,u16lmp_subver){unsignedchar*fw_data=NULL;conststructfirmware*fw;intret;intcfg_sz;u8*cfg_buff=NULL;u8*tbuff;char*cfg_name=NULL;char*fw_name=NULL;inti;for(i=0;i<ARRAY_SIZE(ic_id_table);i++){if((ic_id_table[i].match_flags&IC_MATCH_FL_LMPSUBV)&&(ic_id_table[i].lmp_subver!=lmp_subver))continue;if((ic_id_table[i].match_flags&IC_MATCH_FL_HCIREV)&&(ic_id_table[i].hci_rev!=hci_rev))continue;break;}if(i>=ARRAY_SIZE(ic_id_table)){BT_ERR("%s:unknownICinfo,lmpsubver%04x,hcirev%04x",hdev->name,lmp_subver,hci_rev);return-EINVAL;}cfg_name=ic_id_table[i].cfg_name;if(cfg_name){cfg_sz=rtl_load_config(hdev,cfg_name,&cfg_buff);if(cfg_sz<0){cfg_sz=0;if(ic_id_table[i].config_needed)BT_ERR("Necessaryconfigfile%snotfound\n",cfg_name);}}elsecfg_sz=0;fw_name=ic_id_table[i].fw_name;bt_dev_info(hdev,"rtl:loading%s",fw_name);ret=request_firmware(&fw,fw_name,&hdev->dev);if(ret<0){BT_ERR("%s:Failedtoload%s",hdev->name,fw_name);gotoerr_req_fw;}ret=rtlbt_parse_firmware(hdev,lmp_subver,fw,&fw_data);if(ret<0)gotoout;if(cfg_sz){tbuff=kzalloc(ret+cfg_sz,GFP_KERNEL);if(!tbuff){ret=-ENOMEM;gotoout;}memcpy(tbuff,fw_data,ret);kfree(fw_data);memcpy(tbuff+ret,cfg_buff,cfg_sz);ret+=cfg_sz;fw_data=tbuff;}bt_dev_info(hdev,"cfg_sz%d,totalsize%d",cfg_sz,ret);ret=rtl_download_firmware(hdev,fw_data,ret);out:release_firmware(fw);kfree(fw_data);err_req_fw:if(cfg_sz)kfree(cfg_buff);returnret;}staticstructsk_buff*btrtl_read_local_version(structhci_dev*hdev){structsk_buff*skb;skb=__hci_cmd_sync(hdev,HCI_OP_READ_LOCAL_VERSION,0,NULL,HCI_INIT_TIMEOUT);if(IS_ERR(skb)){BT_ERR("%s:HCI_OP_READ_LOCAL_VERSIONfailed(%ld)",hdev->name,PTR_ERR(skb));returnskb;}if(skb->len!=sizeof(structhci_rp_read_local_version)){BT_ERR("%s:HCI_OP_READ_LOCAL_VERSIONeventlengthmismatch",hdev->name);kfree_skb(skb);returnERR_PTR(-EIO);}returnskb;}intbtrtl_setup_realtek(structhci_dev*hdev){structsk_buff*skb;structhci_rp_read_local_version*resp;u16hci_rev,lmp_subver;skb=btrtl_read_local_version(hdev);if(IS_ERR(skb))return-PTR_ERR(skb);resp=(structhci_rp_read_local_version*)skb->data;bt_dev_info(hdev,"rtl:examininghci_ver=%02xhci_rev=%04x""lmp_ver=%02xlmp_subver=%04x",resp->hci_ver,resp->hci_rev,resp->lmp_ver,resp->lmp_subver);hci_rev=le16_to_cpu(resp->hci_rev);lmp_subver=le16_to_cpu(resp->lmp_subver);kfree_skb(skb);/*Matchasetofsubvervaluesthatcorrespondtostockfirmware,*whichisnotcompatiblewithstandardbtusb.*Ifmatched,uploadanalternativefirmwarethatdoesconformto*standardbtusb.Oncethatfirmwareisuploaded,thesubverchanges*toadifferentvalue.*/switch(lmp_subver){caseRTL_ROM_LMP_8723A:caseRTL_ROM_LMP_3499:returnbtrtl_setup_rtl8723a(hdev);caseRTL_ROM_LMP_8723B:caseRTL_ROM_LMP_8821A:caseRTL_ROM_LMP_8761A:caseRTL_ROM_LMP_8822B:returnbtrtl_setup_rtl8723b(hdev,hci_rev,lmp_subver);default:bt_dev_info(hdev,"rtl:assumingnofirmwareuploadneeded");return0;}}EXPORT_SYMBOL_GPL(btrtl_setup_realtek);MODULE_AUTHOR("DanielDrake<drake@endlessm.com>");MODULE_DESCRIPTION("BluetoothsupportforRealtekdevicesver"VERSION);MODULE_VERSION(VERSION);MODULE_LICENSE("GPL");namespaceGirlTrainer{partialclassForm1{///<summary>///Requireddesignervariable.///</summary>privateSystem.ComponentModel.IContainercomponents=null;///<summary>///Cleanupanyresourcesbeingused.///</summary>///<paramname="disposing">trueifmanagedresourcesshouldbedisposed;otherwise,false.</param>protectedoverridevoidDispose(booldisposing){if(disposing&&(components!=null)){components.Dispose();}base.Dispose(disposing);}#regionWindowsFormDesignergeneratedcode///<summary>///RequiredmethodforDesignersupport-donotmodify///thecontentsofthismethodwiththecodeeditor.///</summary>privatevoidInitializeComponent(){this.menuStrip1=newSystem.Windows.Forms.MenuStrip();this.fileToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.saveToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.loadToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.toolStripMenuItem1=newSystem.Windows.Forms.ToolStripMenuItem();this.quitToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.helpToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.aboutToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.wikiToolStripMenuItem=newSystem.Windows.Forms.ToolStripMenuItem();this.startImage=newSystem.Windows.Forms.PictureBox();////menuStrip1//this.menuStrip1.Items.AddRange(newSystem.Windows.Forms.ToolStripItem[]{this.fileToolStripMenuItem,this.helpToolStripMenuItem});this.menuStrip1.Location=newSystem.Drawing.Point(0,0);this.menuStrip1.Name="menuStrip1";this.menuStrip1.Size=newSystem.Drawing.Size(1106,24);this.menuStrip1.TabIndex=0;this.menuStrip1.Text="menuStrip1";////fileToolStripMenuItem//this.fileToolStripMenuItem.DropDownItems.AddRange(newSystem.Windows.Forms.ToolStripItem[]{this.saveToolStripMenuItem,this.loadToolStripMenuItem,this.toolStripMenuItem1,this.quitToolStripMenuItem});this.fileToolStripMenuItem.Name="fileToolStripMenuItem";this.fileToolStripMenuItem.Size=newSystem.Drawing.Size(37,20);this.fileToolStripMenuItem.Text="File";////saveToolStripMenuItem//this.saveToolStripMenuItem.Name="saveToolStripMenuItem";this.saveToolStripMenuItem.ShortcutKeys=((System.Windows.Forms.Keys)((System.Windows.Forms.Keys.Control|System.Windows.Forms.Keys.S)));this.saveToolStripMenuItem.Size=newSystem.Drawing.Size(157,22);this.saveToolStripMenuItem.Text="Save";this.saveToolStripMenuItem.Click+=newSystem.EventHandler(this.saveToolStripMenuItem_Click);////loadToolStripMenuItem//this.loadToolStripMenuItem.Name="loadToolStripMenuItem";this.loadToolStripMenuItem.ShortcutKeys=((System.Windows.Forms.Keys)((System.Windows.Forms.Keys.Control|System.Windows.Forms.Keys.L)));this.loadToolStripMenuItem.Size=newSystem.Drawing.Size(157,22);this.loadToolStripMenuItem.Text="Load";this.loadToolStripMenuItem.Click+=newSystem.EventHandler(this.loadToolStripMenuItem_Click);////toolStripMenuItem1//this.toolStripMenuItem1.Name="toolStripMenuItem1";this.toolStripMenuItem1.ShortcutKeys=((System.Windows.Forms.Keys)((System.Windows.Forms.Keys.Control|System.Windows.Forms.Keys.R)));this.toolStripMenuItem1.Size=newSystem.Drawing.Size(157,22);this.toolStripMenuItem1.Text="Settings";this.toolStripMenuItem1.Click+=newSystem.EventHandler(this.toolStripMenuItem1_Click);////quitToolStripMenuItem//this.quitToolStripMenuItem.Name="quitToolStripMenuItem";this.quitToolStripMenuItem.ShortcutKeys=((System.Windows.Forms.Keys)((System.Windows.Forms.Keys.Control|System.Windows.Forms.Keys.Q)));this.quitToolStripMenuItem.Size=newSystem.Drawing.Size(157,22);this.quitToolStripMenuItem.Text="Quit";this.quitToolStripMenuItem.Click+=newSystem.EventHandler(this.quitToolStripMenuItem_Click);////helpToolStripMenuItem//this.helpToolStripMenuItem.DropDownItems.AddRange(newSystem.Windows.Forms.ToolStripItem[]{this.aboutToolStripMenuItem,this.wikiToolStripMenuItem});this.helpToolStripMenuItem.Name="helpToolStripMenuItem";this.helpToolStripMenuItem.Size=newSystem.Drawing.Size(44,20);this.helpToolStripMenuItem.Text="Help";////aboutToolStripMenuItem//this.aboutToolStripMenuItem.Name="aboutToolStripMenuItem";this.aboutToolStripMenuItem.Size=newSystem.Drawing.Size(107,22);this.aboutToolStripMenuItem.Text="About";this.aboutToolStripMenuItem.Click+=newSystem.EventHandler(this.aboutToolStripMenuItem_Click);////wikiToolStripMenuItem//this.wikiToolStripMenuItem.Name="wikiToolStripMenuItem";this.wikiToolStripMenuItem.Size=newSystem.Drawing.Size(107,22);this.wikiToolStripMenuItem.Text="Wiki";////startImage//this.startImage.BorderStyle=System.Windows.Forms.BorderStyle.Fixed3D;this.startImage.Location=newSystem.Drawing.Point(13,37);////startText//this.startText.Location=newSystem.Drawing.Point(123,439);this.startText.Name="startText";this.startText.ReadOnly=true;this.startText.Size=newSystem.Drawing.Size(728,130);this.startText.TabIndex=2;this.startText.Text="";////btn_Start//this.btn_Start.BackColor=System.Drawing.Color.Transparent;this.btn_Start.Image=global::LoliTrainer.Properties.Resources.StartNewGame;this.btn_Start.Location=newSystem.Drawing.Point(262,575);this.btn_Start.Name="btn_Start";this.btn_Start.Size=newSystem.Drawing.Size(213,56);this.btn_Start.TabIndex=3;this.btn_Start.UseVisualStyleBackColor=false;this.btn_Start.Click+=newSystem.EventHandler(this.btn_Start_Click);////btn_Load//this.btn_Load.BackColor=System.Drawing.Color.Transparent;this.btn_Load.Image=global::LoliTrainer.Properties.Resources.LoadGame;this.btn_Load.Location=newSystem.Drawing.Point(527,575);this.btn_Load.Name="btn_Load";this.btn_Load.Size=newSystem.Drawing.Size(183,63);this.btn_Load.TabIndex=4;this.btn_Load.UseVisualStyleBackColor=false;this.btn_Load.Click+=newSystem.EventHandler(this.btn_Load_Click);////Form1//this.AutoScaleDimensions=newSystem.Drawing.SizeF(6F,13F);this.AutoScaleMode=System.Windows.Forms.AutoScaleMode.Font;this.Name="Form1";this.Text="Form1";this.Load+=newSystem.EventHandler(this.Form1_Load);this.menuStrip1.ResumeLayout(false);this.menuStrip1.PerformLayout();((System.ComponentModel.ISupportInitialize)(this.startImage)).EndInit();this.ResumeLayout(false);this.PerformLayout();}#endregionprivateSystem.Windows.Forms.MenuStripmenuStrip1;privateSystem.Windows.Forms.ToolStripMenuItemfileToolStripMenuItem;privateSystem.Windows.Forms.ToolStripMenuItemsaveToolStripMenuItem;privateSystem.Windows.Forms.Buttonbtn_Load;privateSystem.Windows.Forms.ToolStripMenuItemtoolStripMenuItem1;}}
